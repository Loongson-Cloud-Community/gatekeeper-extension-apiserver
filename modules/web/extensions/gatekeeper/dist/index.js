/*! For license information please see index.js.LICENSE.txt */
System.register(["@ks-console/shared","@kubed/code-editor","@kubed/components","@kubed/icons","lodash","react","react-router-dom","styled-components"],(function(e,n){var r={},a={},o={},i={},l={},c={},s={},u={};return{setters:[function(e){r.ArrayInput=e.ArrayInput,r.BaseStore=e.BaseStore,r.BaseTable=e.BaseTable,r.DataTable=e.DataTable,r.DetailPage=e.DetailPage,r.Icon=e.Icon,r.Label=e.Label,r.Panel=e.Panel,r.Pattern=e.Pattern,r.PropertiesInput=e.PropertiesInput,r.copyToClipboard=e.copyToClipboard,r.formatTime=e.formatTime,r.getOriginData=e.getOriginData,r.getPath=e.getPath,r.request=e.request,r.useActionMenu=e.useActionMenu,r.useCommonActions=e.useCommonActions,r.useDetailPage=e.useDetailPage,r.yaml=e.yaml},function(e){a.CodeEditor=e.CodeEditor},function(e){o.Banner=e.Banner,o.Card=e.Card,o.Empty=e.Empty,o.Field=e.Field,o.Form=e.Form,o.FormItem=e.FormItem,o.Input=e.Input,o.Modal=e.Modal,o.Select=e.Select,o.Switch=e.Switch,o.notify=e.notify,o.useForm=e.useForm},function(e){i.Group=e.Group,i.Pen=e.Pen,i.Trash=e.Trash},function(e){l.cloneDeep=e.cloneDeep,l.find=e.find,l.get=e.get,l.isEmpty=e.isEmpty,l.isUndefined=e.isUndefined,l.merge=e.merge,l.set=e.set},function(e){c.default=e.default,c.useEffect=e.useEffect,c.useRef=e.useRef,c.useState=e.useState},function(e){s.Link=e.Link,s.Navigate=e.Navigate,s.useParams=e.useParams},function(e){u.default=e.default}],execute:function(){e(function(){var e={683:function(e,t,n){var r={"./base.json":748};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=683},733:function(e,t,n){var r={"./base.json":144};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=733},386:function(e,t,n){var r=n(149).R;t.s=function(e){if(e||(e=1),!n.y.meta||!n.y.meta.url)throw console.error("__system_context__",n.y),Error("systemjs-webpack-interop was provided an unknown SystemJS context. Expected context.meta.url, but none was provided");n.p=r(n.y.meta.url,e)}},149:function(e,t,n){function r(e,t){var n=document.createElement("a");n.href=e;for(var r="/"===n.pathname[0]?n.pathname:"/"+n.pathname,a=0,o=r.length;a!==t&&o>=0;){"/"===r[--o]&&a++}if(a!==t)throw Error("systemjs-webpack-interop: rootDirectoryLevel ("+t+") is greater than the number of directories ("+a+") in the URL path "+e);var i=r.slice(0,o+1);return n.protocol+"//"+n.host+i}t.R=r;var a=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},994:function(e){"use strict";e.exports=r},947:function(e){"use strict";e.exports=a},586:function(e){"use strict";e.exports=o},230:function(e){"use strict";e.exports=i},978:function(e){"use strict";e.exports=l},954:function(e){"use strict";e.exports=c},880:function(e){"use strict";e.exports=s},205:function(e){"use strict";e.exports=u},648:function(e,t,n){var r=n(288).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(w){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),l=new P(r||[]);return i(o,"_invoke",{value:_(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(w){return{type:"throw",arg:w}}}t.wrap=f;var m={};function h(){}function E(){}function T(){}var g={};p(g,c,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==n&&o.call(v,c)&&(g=v);var b=T.prototype=h.prototype=Object.create(g);function O(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(a,i,l,c){var s=d(e[a],e,i);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==r(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(p).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,c)}))}c(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=d(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=T,i(b,"constructor",{value:T,configurable:!0}),i(T,"constructor",{value:E,configurable:!0}),E.displayName=p(T,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,p(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},O(N.prototype),p(N.prototype,s,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new N(f(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(b),p(b,u,"Generator"),p(b,c,(function(){return this})),p(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},288:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},357:function(e,t,n){var r=n(288),a=n(648)();e.exports=a;try{regeneratorRuntime=a}catch(o){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},748:function(e){"use strict";e.exports=JSON.parse('{"name":"Name","CONSTRAINT_TEMPLATES_DESC":"ConstraintTemplates define a way to validate some set of Kubernetes objects in Gatekeeper\'s Kubernetes admission controller.","CONSTRAINT_TEMPLATE":"Constraint Template","CREATE_CONSTRAINT_TEMPLATE":"Create Constraint Template","CONSTRAINT_TEMPLATE_TARGETS":"Targets","CONSTRAINT_TEMPLATE_TARGETS_DESC":"Specifies the targets of the constraint template","CONSTRAINT_TEMPLATE_DETAIL_CONSTRAINTS":"Constraints","CONSTRAINT_TEMPLATE_STATUS":"Status","CONSTRAINT_DESC":"Constraints are used to inform Gatekeeper that the admin wants a ConstraintTemplate to be enforced.","CONSTRAINT":"Constraint","NO_CONSTRAINTS_DESC":"This template has no constraints","CONSTRAINT_VIOLATIONS":"Violations","CONSTRAINT_TEMPLATE_CRD_NAME":"CRD Name","CONSTRAINT_TEMPLATE_TARGET":"Target","CONSTRAINT_TEMPLATE_CRD_NAME_EMPTY":"Please enter the crd name.","CONSTRAINT_TEMPLATE_TARGETS_EMPTY":"Please enter the  tragets","CONSTRAINT_TEMPLATE_CRD_NAME_DESC":"The crd name can contain only uppercase letters, lowercase letters, numbers, and hyphens (-), and must start and end with a lowercase letter or number. The maximum length is 63 characters.","INVALID_CONSTRAINT_TEMPLATE_NAME_DESC":"Invalid name. The crd name can contain only luppercase letters, owercase letters, numbers, and hyphens (-), and must start and end with a lowercase letter or number. The maximum length is 63 characters.","CONSTRAINT_TEMPLATE_TARGET_PLACEHOLDER":"Please enter the target","CONSTRAINT_TEMPLATE_REGO_PLACEHOLDER":"Please enter the rego","INVALID_EXPRESSION":"Please enter the correct targets","constrainttemplates_LOW":"constrainttemplates","constraints_LOW":"constraint","CREATE_CONSTRAINT":"Create Constraint","CONSTRAINT_KIND":"Constraint Kind","CONSTRAINT_KIND_PLACEHOLDER":"Please select the constraint kind","CONSTRAINT_NAME":"Constraint Name","CONSTRAINT_NAME_DESC":"The constraint name can contain only lowercase letters, numbers, and hyphens (-), and must start and end with a lowercase letter or number. The maximum length is 63 characters.","CONSTRAINT_NAME_EMPTY":"Please enter the constraint name","INVALID_CONSTRAINT_NAME_DESC":"Invalid name. The constraint name can contain only lowercase letters, numbers, and hyphens (-), and must start and end with a lowercase letter or number. The maximum length is 63 characters.","CONSTRAINT_PARAMETERS":"Parameters","CONSTRAINT_PARAMETERS_EMPTY":"Please enter Parameters","NAMESPACE_LABELS":"Namespace Selector","ENFORCEMENT_ACTIONS":"enforcementAction","ENFORCEMENT_ACTIONS_PLACEHOLDER":"Please select the enforcement actions","CONSTRAINT_KINDS_PLACEHOLDER":"Please enter the kinds","INVALID_CONSTRAINT_KINDS":"Please enter the correct kinds"}')},144:function(e){"use strict";e.exports=JSON.parse('{"name":"名称","CONSTRAINT_TEMPLATES_DESC":"ConstraintTemplates 定义了一种方法来验证 Gatekeeper 的 Kubernetes准入控制器中的某些 Kubernetes 对象集。","CONSTRAINT_TEMPLATE":"约束模板","CREATE_CONSTRAINT_TEMPLATE":"创建约束模板","CONSTRAINT_TEMPLATE_TARGETS":"Targets","CONSTRAINT_TEMPLATE_TARGETS_DESC":"指定约束模板的适用范围","CONSTRAINT_TEMPLATE_DETAIL_CONSTRAINTS":"Constraints","CONSTRAINT_TEMPLATE_STATUS":"Status","CONSTRAINT_DESC":"约束条件被管理员用于声明需要强制执行的 Gatekeeper 约束模板。","CONSTRAINT":"约束条件","NO_CONSTRAINTS_DESC":"此模板没有对应的约束条件","CONSTRAINT_VIOLATIONS":"Violations","CONSTRAINT_TEMPLATE_CRD_NAME":"CRD 名称","CONSTRAINT_TEMPLATE_TARGET":"Target","CONSTRAINT_TEMPLATE_CRD_NAME_EMPTY":"请输入 CRD 名称","CONSTRAINT_TEMPLATE_TARGETS_EMPTY":"请输入 Tragets","CONSTRAINT_TEMPLATE_CRD_NAME_DESC":"CRD 名称只能包含大写字母、小写字母、数字和连字符（-），必须以小写字母或数字开头和结尾，最长 63 个字符。","INVALID_CONSTRAINT_TEMPLATE_NAME_DESC":"名称无效。CRD 名称只能包含大写字母、小写字母、数字和连字符（-），必须以小写字母或数字开头和结尾，最长 63 个字符。","CONSTRAINT_TEMPLATE_TARGET_PLACEHOLDER":"请输入Target","CONSTRAINT_TEMPLATE_REGO_PLACEHOLDER":"请输入限制条件的源代码","INVALID_EXPRESSION":"请输入正确的 Targets","constrainttemplates_LOW":"constrainttemplates","constraints_LOW":"constraint","CREATE_CONSTRAINT":"创建约束条件","CONSTRAINT_KIND":"约束条件类型","CONSTRAINT_KIND_PLACEHOLDER":"请选择约束条件类型","CONSTRAINT_NAME":"约束条件名称","CONSTRAINT_NAME_DESC":"约束条件名称只能包含小写字母、数字和连字符（-），必须以小写字母或数字开头和结尾，最长 63 个字符。","CONSTRAINT_NAME_EMPTY":"请输入约束条件名称","INVALID_CONSTRAINT_NAME_DESC":"名称无效。CRD 约束条件名称只能包含小写字母、数字和连字符（-），必须以小写字母或数字开头和结尾，最长 63 个字符。","CONSTRAINT_PARAMETERS":"Parameters","CONSTRAINT_PARAMETERS_EMPTY":"请输入 Parameters","NAMESPACE_LABELS":"命名空间标签","ENFORCEMENT_ACTIONS":"enforcementAction","ENFORCEMENT_ACTIONS_PLACEHOLDER":"请选择 enforcementAction","CONSTRAINT_KINDS_PLACEHOLDER":"请填写 Kinds","INVALID_CONSTRAINT_KINDS":"请输入正确的 Kinds","":""}')}},p={};function f(t){var n=p[t];if(void 0!==n)return n.exports;var r=p[t]={exports:{}};return e[t](r,r.exports,f),r.exports}f.y=n,f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,{a:t}),t},f.d=function(e,t){for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;f.g.importScripts&&(e=f.g.location+"");var t=f.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),f.p=e}();var d={};return(0,f(386).s)(1),function(){"use strict";f.r(d),f.d(d,{default:function(){return $e}});var e=f(954),n=f(880);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){s=!0,a=u}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=f(586),u=f(230),p=f(994);function m(e){if(null==e)throw new TypeError("Cannot destructure "+e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var E={constraints:"apis/constraints.gatekeeper.sh/v1beta1",constrainttemplates:"apis/templates.gatekeeper.sh/v1"};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y="constrainttemplates",v=function(e){return g({name:e.metadata.name},e)},b=function(e,t){return t?"kapis/templates.gatekeeper.sh/v1".concat((0,p.getPath)(e),"/").concat(y):"".concat(E[y]).concat((0,p.getPath)(e),"/").concat(y)},O=(0,p.BaseStore)({module:y,mapper:v,getListUrlFn:b,getResourceUrlFn:b}),N=g(g({},h({},(m(O),O))),{},{module:y,mapper:v,yamlRawData:"apiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: null\nspec:\n  crd:\n    spec:\n      names:\n        kind: null\n      validation:\n        openAPIV3Schema:\n          type: object\n          properties: {}\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: ''\n"});function _(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,l,"next",e)}function l(e){_(o,r,a,i,l,"throw",e)}i(void 0)}))}}var A=f(357),C=f.n(A),P=f(978);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R="constraints",k=function(e){return w({name:e.metadata.name||e.items[0].metadata.name,uid:e.metadata.uid},e)},x=function(e,t){return t?"kapis/constraints.gatekeeper.sh/v1beta1".concat((0,p.getPath)(e),"/").concat(R):e.kind?"".concat(E[R]).concat((0,p.getPath)(e),"/").concat(e.kind.toLowerCase()):"".concat(E[R]).concat((0,p.getPath)(e))},D=function(){var e=S(C().mark((function e(t){var n,r,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(E.constrainttemplates).concat((0,p.getPath)(t),"/constrainttemplates"),e.next=3,p.request.get(n);case 3:return r=e.sent,a=(0,P.get)(r,"items",[]),e.abrupt("return",{data:a,total:a.length});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=S(C().mark((function e(t){var n,r,a,o,i,l;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,r=t.kind,a=t.cluster,!r){e.next=8;break}return o="".concat(E[R]).concat((0,p.getPath)({cluster:a}),"/").concat(R),e.next=5,p.request.get(o);case 5:return i=e.sent,l=(0,P.get)(i,"items",[]),e.abrupt("return",(0,P.isEmpty)((0,P.find)(l,{"metadata.name":n,kind:r})));case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=(0,p.BaseStore)({module:R,mapper:k,getListUrlFn:x,getResourceUrlFn:x}),M=w(w({},h({},(m(j),j))),{},{module:R,mapper:k,fetchConstraintKind:D,yamlRawData:'apiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sPSPHostFilesystem\nmetadata:\n  name: psp-host-filesystem\nspec:\n  match:\n    kinds:\n      - apiGroups: [""]\n        kinds: ["Pod"]\n#    namespaces:\n#      - name: kubesphere-system\n#    namespaceSelector:\n#      matchExpressions:\n#        - key: kubesphere.io/workspace\n#          operator: Exists\n#      matchLabels:\n#        kubesphere.io/workspace: system-workspace\n  parameters: {}\n',checkNameFn:L}),F={constrainttemplates:function(){return{apiVersion:"templates.gatekeeper.sh/v1",kind:"ConstraintTemplate",metadata:{name:""},spec:{crd:{spec:{names:{kind:null},validations:{openAPIV3Schema:{type:"object",properties:{}}}}},targets:[{target:"admission.k8s.gatekeeper.sh",rego:""}]}}},constraints:function(){return{apiVersion:"constraints.gatekeeper.sh/v1beta1",kind:"",metadata:{name:""},spec:{enforcementAction:"deny",match:{kinds:[{apiGroups:[],kinds:[]}],namespaces:[{name:""}],namespaceSelector:{matchExpressions:[{key:"",operator:""}],matchLabels:{}}},parameters:{}}}}},G=F;function V(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=f(205),U=(K.default.div.withConfig({displayName:"styles__TargetItemWrapper",componentId:"sc-3qwvky-0"})(["background:#f9fbfd;boder-radius:4px;padding:12px;.targetInput{max-width:200px !important;}.regoTextarea{margin-top:12px;min-height:200px;height:200px;}"]),K.default.div.withConfig({displayName:"styles__StyledItem",componentId:"sc-3qwvky-1"})(["position:relative;padding:12px;border-radius:4px;background-color:#f9fbfd;&:not(:first-of-type){margin-top:4px;}& > input{max-width:none !important;}"])),Y=K.default.div.withConfig({displayName:"styles__ErrorTip",componentId:"sc-3qwvky-2"})(["padding:3px 68px 3px 17px;margin-top:4px;font-family:",";font-size:12px;line-height:1.67;letter-spacing:normal;"],(function(e){return e.theme.font.sans}));function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(t){var n=t.component,r=t.index,a=t.value,o=t.arrayValue,i=t.onChange,l=(t.onDelete,c((0,e.useState)(""),2)),s=l[0],u=l[1],p=e.default.cloneElement(n,z(z({},n.props),{},{index:r,value:a,arrayValue:o,onChange:i,handleKeyError:function(e){var t,n=null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"";u(n)}}));return e.default.createElement(e.default.Fragment,null,e.default.createElement(U,null,p),""!==s&&e.default.createElement(Y,null,s))},q=function(t){var n=t.onChange,r=t.value,a=(t.prefix,function(e,t){var a=(0,P.get)(t,"currentTarget.value",t),o=[];(0,P.isUndefined)(null==r?void 0:r[e])?(r[e]=a,o=V(r||[])):o=(r||[]).map((function(t,n){return n===e?a:t})),null==n||n(o)});return e.default.createElement("div",null,function(){var n=t.value,r=t.children,o=t.id;return null==n?void 0:n.map((function(i,l){return e.default.createElement(B,{key:l,name:"".concat(o,"[").concat(l,"]"),index:l,value:i||("object"===t.itemType?{}:""),arrayValue:n,component:r,onChange:function(e){return a(l,e)}})}))}())},W=K.default.div.withConfig({displayName:"styles__TargetItemWrapper",componentId:"sc-1sjb1q9-0"})([".targetInput{max-width:200px !important;}.regoTextarea{margin-top:12px;min-height:100px;height:100px;}"]),$=f(947);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(n){var r=n.onChange,a=n.value;return e.default.createElement(W,null,e.default.createElement(s.Input,{name:"target",placeholder:t("CONSTRAINT_TEMPLATE_TARGET_PLACEHOLDER"),className:"targetInput",onChange:function(e){var t=e.target.value;null==r||r(J(J({},n.value),{},{target:t}))},disabled:!0,defaultValue:a.target}),e.default.createElement($.CodeEditor,{className:"regoTextarea",name:"rego",hasUpload:!1,hasDownload:!1,value:a.rego,onChange:function(e){null==r||r(J(J({},n.value),{},{rego:e}))}}))},Q=(K.default.div.withConfig({displayName:"styles__GroupContent",componentId:"sc-1az3d3i-0"})(["padding:12px;margin-top:12px;& > div{margin-bottom:12px;}"]),(0,K.default)(s.Form).withConfig({displayName:"styles__FormWrapper",componentId:"sc-1az3d3i-1"})([""])),ee=/^[a-z]([-A-Z-a-z0-9]*[A-Za-z0-9])?$/,te=function(n){var r=n.form,a=n.data,o=n.className,i=n.initialValues,l=(n.isCodeMode,n.onChange),c=void 0===l?function(){}:l;(0,e.useEffect)((function(){r.resetFields(),r.setFieldsValue(i)}),[]);return e.default.createElement(Q,{form:r,className:o,onFieldsChange:function(){var e,t=r.getFieldsValue(),n=null===(e=(0,P.get)(t,"spec.crd.spec.names.kind"))||void 0===e?void 0:e.toLowerCase();(0,P.set)(t,"metadata.name",n),c((0,P.merge)({},i,t))},data:a},e.default.createElement(s.FormItem,{name:["spec","crd","spec","names","kind"],label:t("CONSTRAINT_TEMPLATE_CRD_NAME"),help:t("CONSTRAINT_TEMPLATE_CRD_NAME_DESC"),rules:[{required:!0,message:t("CONSTRAINT_TEMPLATE_CRD_NAME_EMPTY")},{pattern:ee,message:t("INVALID_CONSTRAINT_TEMPLATE_NAME_DESC")}]},e.default.createElement(s.Input,null)),e.default.createElement(s.FormItem,{name:["spec","targets"],label:t("CONSTRAINT_TEMPLATE_TARGETS"),rules:[{required:!0,message:t("CONSTRAINT_TEMPLATE_TARGETS_EMPTY")},{validator:function(e,n,r){return n?n.some((function(e){return!function(e){return e.target&&e.rego}(e)}))?r({message:t("INVALID_EXPRESSION")}):void r():r()},checkOnSubmit:!0}]},e.default.createElement(q,{itemType:"object"},e.default.createElement(Z,null))))},ne=K.default.div.withConfig({displayName:"styles__SwitchStyle",componentId:"sc-h1k23h-0"})(["position:absolute;top:4px;right:40px;"]),re=function(n){var r=n.form,a=n.onCancel,o=n.visible,i=n.initialValues,l=n.onOk,f=(n.store,c((0,e.useState)(!1),2)),d=f[0],m=f[1],h=c((0,e.useState)(i),2),E=h[0],T=h[1],g=c((0,e.useState)({}),2),y=g[0],v=g[1],b=function(e){m(e),e?v(p.yaml.getValue(E)):T(p.yaml.load(y))};return e.default.createElement(s.Modal,{title:t("CREATE_CONSTRAINT_TEMPLATE"),width:960,titleIcon:e.default.createElement(u.Group,{size:40}),visible:o,onCancel:a,headerExtra:e.default.createElement(ne,null,e.default.createElement(s.Switch,{onChange:b,label:t("EDIT_YAML"),variant:"button"})),onOk:function(){r.validateFields().then((function(){null==l||l(d?p.yaml.load(y):E)})).catch((function(){}))},bodyStyle:{padding:"20px"}},d?e.default.createElement($.CodeEditor,{mode:"yaml",value:y,onChange:function(e){v(e)}}):e.default.createElement(te,{form:r,initialValues:E,onChange:function(e){T(e)}}))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(){var r=(0,n.useParams)().cluster,a=(0,n.useParams)(),o=(0,e.useRef)(),i=c((0,s.useForm)(),1)[0],l=c((0,e.useState)(!1),2),f=l[0],d=l[1],m=N.module,h=N.getResourceUrl,E=G[m]();var T=function(){var e;null==o||null===(e=o.current)||void 0===e||e.refetch()},g=(0,p.useCommonActions)({store:N,params:{cluster:r},callback:T}),y=g.editYaml,v=g.del,b=(0,p.useActionMenu)({authKey:"constrainttemplates",params:{cluster:r},actions:[{key:"editYaml",icon:e.default.createElement(u.Pen,null),text:t("EDIT_YAML"),action:"edit",onClick:y},{key:"delete",icon:e.default.createElement(u.Trash,null),text:t("DELETE"),action:"delete",onClick:v}]}),O=[{title:t("Name"),field:"name",sortable:!1,searchable:!0,render:function(t,a){return e.default.createElement(s.Field,{value:t,label:a.target,as:n.Link,to:"/clusters/".concat(r,"/gatekeeper.constrainttemplates/").concat(a.metadata.name)})}},{title:t("Title"),canHide:!0,render:function(t,n){return e.default.createElement(s.Field,{value:n.metadata.annotations["metadata.gatekeeper.sh/title"]||"-"})}},{title:t("Description"),width:"50%",field:"metadata.annotations.description",canHide:!0,render:function(t,n){return e.default.createElement(s.Field,{value:t||"-"})}},{id:"more",title:"",width:20,render:function(e,t){return b(oe({},t))}}],_=(0,p.useActionMenu)({authKey:m,params:a,autoSingleButton:!0,actions:[{key:"create",text:t("CREATE"),action:"create",props:{color:"secondary",shadow:!0},onClick:function(){d(!0)}}]});return e.default.createElement(e.default.Fragment,null,e.default.createElement(s.Banner,{icon:e.default.createElement(u.Group,null),title:t("Constraint Templates"),description:t("CONSTRAINT_TEMPLATES_DESC"),className:"mb12"}),e.default.createElement(p.DataTable,{ref:o,columns:O,tableName:"template-list",rowKey:"name",format:function(e){return oe({name:e.metadata.name,_originData:(0,p.getOriginData)(e)},e)},serverDataFormat:function(e){return oe(oe({},e),{},{items:e.items,totalItems:e.items.length})},placeholder:t("SEARCH_BY_NAME"),url:h(a,!0),useStorageState:!1,disableRowSelect:!1,selectType:!1,toolbarRight:_({})}),f&&e.default.createElement(re,{visible:f,onOk:function(e){N.post(r,e).then((function(e){e&&(T(),d(!1))})).catch((function(){}))},form:i,initialValues:E,onCancel:function(){d(!1)},store:N}))},le=K.default.div.withConfig({displayName:"styles__ItemWrapper",componentId:"sc-ztmorf-0"})(["display:flex;gap:12px;"]),ce=function(t){var n=t.onChange,r=t.value,a=c((0,e.useState)(r.apiGroups||[]),2),o=a[0],i=a[1],l=c((0,e.useState)(r.kinds||[]),2),u=l[0],p=l[1];(0,e.useEffect)((function(){(0,P.isEmpty)(u)&&(0,P.isEmpty)(o)||f()}),[u,o]);var f=function(){n({kinds:u,apiGroups:o})};return e.default.createElement(le,null,e.default.createElement(s.Input,{name:"apiGroups",value:o,placeholder:"APIGroup",onChange:function(e){var t=e.target.value;i(t?t.split(","):[])}}),e.default.createElement(s.Input,{name:"kinds",placeholder:"Kind",value:u,onChange:function(e){var t=e.target.value;p(t?t.split(","):[])}}))},se=K.default.div.withConfig({displayName:"styles__ItemWrapper",componentId:"sc-1qc71bs-0"})([".Textarea{margin-top:12px;min-height:100px;height:100px;}"]),ue=function(t){var n=t.onChange,r=(t.value,t.yamlData);return e.default.createElement(se,null,e.default.createElement($.CodeEditor,{className:"Textarea",value:(0,P.isEmpty)(r)?void 0:p.yaml.getValue(r),hasUpload:!1,hasDownload:!1,onChange:function(e){null==n||n(p.yaml.load(e))}}))},pe=(0,K.default)(s.Form).withConfig({displayName:"styles__FormWrapper",componentId:"sc-gz4jax-0"})([".sss{background:red;}:global{.xxx{background:red;}}"]),fe=K.default.div.withConfig({displayName:"styles__FormItemError",componentId:"sc-gz4jax-1"})(["margin-top:4px;font-family:",";font-size:12px;font-weight:normal;font-style:normal;font-stretch:normal;line-height:1.67;letter-spacing:normal;color:#404e68;color:#ca2621;"],(function(e){return e.theme.font.sans})),de=K.default.div.withConfig({displayName:"styles__NamespaceSelectorWrapper",componentId:"sc-gz4jax-2"})([".form-item{padding:12px;border-radius:4px;background-color:#f9fbfd;&>div{&>div:not(:last-child){background:#eff4f9;}}}"]),me=function(n){var r=n.form,a=n.data,o=n.className,i=n.store,l=n.initialValues,u=n.cluster,f=n.onChange,d=void 0===f?function(){}:f,m=c((0,e.useState)([]),2),h=m[0],E=m[1],T=c((0,e.useState)(""),2),g=T[0],y=T[1],v=c((0,e.useState)({}),2),b=v[0],O=v[1];(0,e.useEffect)((function(){return r.resetFields(),r.setFieldsValue(l),N(),function(){r.resetFields()}}),[]);var N=function(){var e=S(C().mark((function e(){var t,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchConstraintKind({cluster:u});case 2:t=e.sent,n=(null==t?void 0:t.data.map((function(e){return{label:(0,P.get)(e,"spec.crd.spec.names.kind"),value:(0,P.get)(e,"spec.crd.spec.names.kind")}})))||[],E(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return!(0,P.isEmpty)(e.kinds)||!(0,P.isEmpty)(e.apiGroups)},A=function(){var e=S(C().mark((function e(n,a){var o,l;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||Promise.resolve(),o=r.getFieldsValue(),l=o.kind,e.next=4,i.checkName({name:a,kind:l.toLowerCase(),cluster:u});case 4:if(!e.sent.exist){e.next=7;break}return e.abrupt("return",Promise.reject({message:t("NAME_EXIST_DESC")}));case 7:Promise.resolve();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return e.default.createElement(pe,{form:r,className:o,onFieldsChange:function(){var e=r.getFieldsValue();d(e)},data:a},e.default.createElement(s.FormItem,{name:["metadata","name"],label:t("CONSTRAINT_NAME"),help:t("CONSTRAINT_NAME_DESC"),rules:[{required:!0,message:t("CONSTRAINT_NAME_EMPTY")},{pattern:p.Pattern.PATTERN_NAME,message:t("INVALID_CONSTRAINT_NAME_DESC")},{validator:A,checkOnSubmit:!0}]},e.default.createElement(s.Input,{placeholder:t("CONSTRAINT_NAME_EMPTY")})),e.default.createElement(s.FormItem,{name:["kind"],label:t("CONSTRAINT_KIND"),rules:[{required:!0,message:t("CONSTRAINT_KIND_PLACEHOLDER")}]},e.default.createElement(s.Select,{options:h,placeholder:t("CONSTRAINT_KIND_PLACEHOLDER")})),e.default.createElement(s.FormItem,{name:["spec","enforcementAction"],label:t("ENFORCEMENT_ACTIONS_PLACEHOLDER"),rules:[{required:!0,message:t("ENFORCEMENT_ACTIONS_PLACEHOLDER")}]},e.default.createElement(s.Select,{options:[{label:"deny",value:"deny"},{label:"dryrun",value:"dryrun"},{label:"warn",value:"warn"}],placeholder:t("ENFORCEMENT_ACTIONS_PLACEHOLDER"),defaultValue:"deny"})),e.default.createElement(de,null,e.default.createElement(s.FormItem,{name:["spec","match","kinds"],label:"Match Kinds",rules:[{required:!0,message:t("CONSTRAINT_KINDS_PLACEHOLDER")},{validator:function(e,n,r){return n?n.some((function(e){return!_(e)}))?r({message:t("INVALID_CONSTRAINT_KINDS")}):void r():r()},checkOnSubmit:!0}]},e.default.createElement(p.ArrayInput,{itemType:"object",addText:t("ADD"),checkItemValid:_},e.default.createElement(ce,null)))),e.default.createElement(de,null,e.default.createElement(s.FormItem,{name:["spec","match","namespaceSelector","matchLabels"],label:t("NAMESPACE_LABELS"),validateStatus:g?"error":void 0,help:g?e.default.createElement(fe,null,g):void 0},e.default.createElement(p.PropertiesInput,{addText:t("ADD"),onError:function(e){return y(e&&e.message?e.message:"")}}))),e.default.createElement(s.FormItem,{name:["spec","parameters"],label:t("CONSTRAINT_PARAMETERS"),validateStatus:g?"error":void 0},e.default.createElement(ue,{yamlData:b,onChange:function(e){O(e)}})))},he=K.default.div.withConfig({displayName:"styles__SwitchStyle",componentId:"sc-1ueioq5-0"})(["position:absolute;top:4px;right:40px;"]),Ee=function(n){var r=n.form,a=n.onCancel,o=n.visible,i=n.initialValues,l=n.onOk,f=n.store,d=n.cluster,m=c((0,e.useState)(!1),2),h=m[0],E=m[1],T=c((0,e.useState)((0,P.cloneDeep)(i)),2),g=T[0],y=T[1],v=c((0,e.useState)(""),2),b=v[0],O=v[1],N=function(e){E(e),e?O(p.yaml.getValue(g)):y(p.yaml.load(b))};return e.default.createElement(s.Modal,{title:t("CREATE_CONSTRAINT"),width:960,titleIcon:e.default.createElement(u.Group,{size:40}),visible:o,onCancel:a,headerExtra:e.default.createElement(he,null,e.default.createElement(s.Switch,{onChange:N,label:t("EDIT_YAML"),variant:"button"})),onOk:function(){r.validateFields().then((function(){null==l||l(h?p.yaml.load(b):g)})).catch((function(){}))},bodyStyle:{padding:"20px"}},h?e.default.createElement($.CodeEditor,{mode:"yaml",value:b,onChange:function(e){O(e)}}):e.default.createElement(me,{form:r,initialValues:g,onChange:function(e){y(e)},store:f,cluster:d}))};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(){var r=(0,n.useParams)().cluster,a=(0,n.useParams)(),o=(0,e.useRef)(),i=c((0,s.useForm)(),1)[0],l=c((0,e.useState)(!1),2),f=l[0],d=l[1],m=M.module,h=M.getResourceUrl,E=G[m](),T=h(a,!0),g=function(){var e;null==o||null===(e=o.current)||void 0===e||e.refetch()},y=(0,p.useCommonActions)({store:M,params:{cluster:r},callback:g}),v=y.editYaml,b=y.del,O=(0,p.useActionMenu)({authKey:"constraints",params:{cluster:r},actions:[{key:"editYaml",icon:e.default.createElement(u.Pen,null),text:t("EDIT_YAML"),action:"edit",onClick:v},{key:"delete",icon:e.default.createElement(u.Trash,null),text:t("DELETE"),action:"delete",onClick:function(e){b({onOk:function(){M.delete(e).then((function(e){s.notify.success(t("DELETED_SUCCESSFULLY")),g()})).catch((function(){}))},resource:[e]})}}]}),N=[{title:t("Name"),field:"name",sortable:!1,searchable:!0,render:function(t,r){return e.default.createElement(s.Field,{value:t,as:n.Link,to:"/clusters/".concat(a.cluster,"/gatekeeper.constraints/").concat(r.kind.toLowerCase(),"/").concat(r.name)})}},{title:t("Kind"),field:"kind",sortable:!1,searchable:!1},{id:"more",title:"",width:20,render:function(e,t){return O(ge({},t))}}];var _=(0,p.useActionMenu)({authKey:m,params:a,autoSingleButton:!0,actions:[{key:"create",text:t("CREATE"),action:"create",props:{color:"secondary",shadow:!0},onClick:function(){d(!0)}}]});return e.default.createElement(e.default.Fragment,null,e.default.createElement(s.Banner,{icon:e.default.createElement(u.Group,null),title:t("Constraints"),description:t("CONSTRAINT_DESC"),className:"mb12"}),e.default.createElement(p.DataTable,{ref:o,columns:N,tableName:"constraint-list",rowKey:"uid",format:function(e){return function(e){return ge({name:e.metadata.name,_originData:(0,p.getOriginData)(e)},e)}(e)},serverDataFormat:function(e){return ge(ge({},e),{},{items:e.items,totalItems:10})},placeholder:t("SEARCH_BY_NAME"),url:T,useStorageState:!1,disableRowSelect:!1,selectType:!1,toolbarRight:_({})}),f&&e.default.createElement(Ee,{visible:f,onOk:function(e){M.post({kind:e.kind.toLowerCase(),cluster:r},e).then((function(e){e&&(g(),d(!1))})).catch((function(){}))},form:i,initialValues:E,onCancel:function(){d(!1)},store:M,cluster:r}))},ve="/clusters/:cluster/gatekeeper.constrainttemplates/:name",be=function(){var r=(0,n.useParams)(),a=r.cluster,o=r.name,i=(0,e.useRef)(),l=[{path:"".concat(ve,"/targets"),title:t("CONSTRAINT_TEMPLATE_TARGETS")},{path:"".concat(ve,"/status"),title:t("CONSTRAINT_TEMPLATE_STATUS")},{path:"".concat(ve,"/constraints"),title:t("CONSTRAINT_TEMPLATE_DETAIL_CONSTRAINTS")}];return e.default.createElement(e.default.Fragment,null,e.default.createElement(p.DetailPage,{ref:i,tabs:l,authKey:N.module,store:N,params:{cluster:a,name:o},sideProps:{attrs:function(e){return[{label:t("CLUSTER_PL"),value:a||""},{label:t("CREATION_TIME_TCAP"),value:(0,p.formatTime)(e.metadata.creationTimestamp)},{label:"CRD",value:e.spec.crd.spec.names.kind||""}]},icon:e.default.createElement(p.Icon,{name:"key",size:28,style:{verticalAlign:"middle"}}),breadcrumbs:{label:t("CONSTRAINT_TEMPLATE"),url:"/clusters/".concat(a,"/gatekeeper.constrainttemplates")}}}))},Oe=K.default.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-5ah7ak-0"})(["padding:20px;border-radius:4px;background-color:#f9fbfd;& > ul > li{h6{font-size:14px;line-height:1.43;}pre{margin-top:8px;padding:12px;border-radius:4px;background-color:#ffffff;border:solid 1px #e3e9ef;}& + li{margin-top:12px;}}"]),Ne=K.default.div.withConfig({displayName:"styles__CardTitle",componentId:"sc-5ah7ak-1"})(["position:relative;height:20px;margin-bottom:20px;font-size:14px;font-weight:600;line-height:1.43;@include clearfix;& > button{position:absolute;@include vertical-center;right:0;z-index:10;}"]),_e=K.default.div.withConfig({displayName:"styles__TextDesc",componentId:"sc-5ah7ak-2"})(["margin-top:0;font-weight:400;color:",";a{color:",";}"],(function(e){return e.theme.palette.accents_5}),(function(e){return e.theme.palette.colors.blue[2]})),Se=K.default.div.withConfig({displayName:"styles__CodeEditorWrapper",componentId:"sc-5ah7ak-3"})(["position:relative;"]),Ae=K.default.div.withConfig({displayName:"styles__CodeEditorOperations",componentId:"sc-5ah7ak-4"})(["position:absolute;top:8px;right:8px;display:flex;align-items:center;gap:10px;z-index:2;height:32px;padding:6px 10px;border-radius:16px;color:#ffffff;background-color:",";svg{opacity:0.6;margin-top:-1px;color:#ffffff;&:hover{opacity:1;background-color:transparent;}}"],(function(e){return e.theme.palette.accents_7})),Ce=(0,K.default)(s.Empty).withConfig({displayName:"styles__StyledEmpty",componentId:"sc-5ah7ak-5"})(["padding:32px;"]);var Pe=function(){var n,r=(0,p.useDetailPage)().detail;return e.default.createElement(s.Card,{hoverable:!0,padding:20},e.default.createElement(Ne,null,t("Targets")),e.default.createElement(Oe,null,e.default.createElement("ul",null,null==r||null===(n=r.spec)||void 0===n?void 0:n.targets.map((function(n){return e.default.createElement("li",{key:n.target},e.default.createElement(_e,{className:"mb12"},n.target),e.default.createElement(Se,null,e.default.createElement(Ae,null,e.default.createElement(p.Icon,{name:"copy",size:20,onClick:function(){(0,p.copyToClipboard)(n.rego),s.notify.success(t("COPY_SUCCESSFUL"))}})),e.default.createElement($.CodeEditor,{value:n.rego,mode:"javascript",hasDownload:!1,hasUpload:!1,readOnly:!0})))})))))};var Ie=function(){var n=(0,p.useDetailPage)().detail;return e.default.createElement(p.Panel,{title:t("Status")},e.default.createElement("div",null,null==n?void 0:n.status.byPod.map((function(t){return e.default.createElement(p.Label,{key:t.id,name:t.id,value:"GENERATION "+t.observedGeneration})}))))};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(){var n=(0,p.useDetailPage)().params,r=M.mapper,a=(0,e.useRef)();n.name;var o=M.getDetailUrl(n),i=[{title:t("name"),field:"name",width:"33%"},{title:t("CREATION_TIME"),field:"metadata.creationTimestamp",width:"33%",render:function(n){return e.default.createElement("p",null,n?(0,p.formatTime)(n):t("NOT_LOGIN_YET"))}}];return e.default.createElement(s.Card,{sectionTitle:t("CONSTRAINT"),padding:0},e.default.createElement(p.DataTable,{ref:a,url:o,columns:i,tableName:"template.constraint-list",rowKey:"name",format:function(e){return r(e)},serverDataFormat:function(e){return Re(Re({},e),{},{items:e.items,totalItems:e.items.length})},showToolbar:!1,emptyOptions:{element:e.default.createElement(Ce,{title:t("CONSTRAINT"),description:e.default.createElement("span",null,t("NO_CONSTRAINTS_DESC")),image:e.default.createElement("img",{src:"https://open-policy-agent.github.io/gatekeeper/website/img/logo.svg",alt:"",height:48})}),withoutTable:!0}}))};var xe=function(){var t=(0,p.useDetailPage)().detail,n=(0,P.get)(t,"status.violations");return e.default.createElement(s.Card,{hoverable:!0,padding:20},n&&e.default.createElement(p.BaseTable,{columns:[{title:"Action",field:"enforcementAction"},{title:"Kind",field:"kind"},{title:"Namespace",field:"namespace"},{title:"Name",field:"name",width:"19%"},{title:"Message",field:"message"}],dataSource:n}))},De=function(){var r=(0,n.useParams)(),a=r.cluster,o=r.kind,i=r.name,l=(0,e.useRef)(),c=[{path:"".concat("/clusters/:cluster/gatekeeper.constraints/:kind/:name","/violations"),title:t("CONSTRAINT_VIOLATIONS")}];return e.default.createElement(e.default.Fragment,null,e.default.createElement(p.DetailPage,{ref:l,tabs:c,authKey:M.module,store:M,params:{cluster:a,kind:o,name:i},sideProps:{attrs:function(e){var n=M.mapper(e);return[{label:t("CLUSTER_PL"),value:a||""},{label:t("CREATION_TIME_TCAP"),value:(0,p.formatTime)(n.metadata.creationTimestamp)}]},icon:e.default.createElement(p.Icon,{name:"key",size:28,style:{verticalAlign:"middle"}}),breadcrumbs:{label:t("CONSTRAINT"),url:"/clusters/".concat(a,"/gatekeeper.constraints")}}}))},Le=[{parentRoute:"/clusters/:cluster",children:[{path:"/clusters/:cluster/gatekeeper.constrainttemplates",element:e.default.createElement(ie,null)},{path:"/clusters/:cluster/gatekeeper.constraints",element:e.default.createElement(ye,null)}]},{path:"/clusters/:cluster/gatekeeper.constrainttemplates/:name",element:e.default.createElement(be,null),children:[{index:!0,element:e.default.createElement(n.Navigate,{to:"targets",replace:!0})},{path:"targets",element:e.default.createElement(Pe,null)},{path:"status",element:e.default.createElement(Ie,null)},{path:"constraints",element:e.default.createElement(ke,null)}]},{path:"/clusters/:cluster/gatekeeper.constraints/:kind/:name",element:e.default.createElement(De,null),children:[{index:!0,element:e.default.createElement(n.Navigate,{to:"violations",replace:!0})},{path:"violations",element:e.default.createElement(xe,null)}]}];function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var Fe=f(733),Ge=Fe.keys().filter((function(e){return"./index.ts"!==e})),Ve={},Ke=0;Ke<Ge.length;Ke+=1)Ge[Ke].startsWith(".")&&(Ve=Me(Me({},Ve),Fe(Ge[Ke])));var Ue=Ve;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var ze=f(683),Be=ze.keys().filter((function(e){return"./index.ts"!==e})),qe={},We=0;We<Be.length;We+=1)Be[We].startsWith(".")&&(qe=He(He({},qe),ze(Be[We])));var $e={menus:[{parent:"cluster",name:"gatekeeper",title:"Gatekeeper",icon:"key",assets:"https://open-policy-agent.github.io/gatekeeper/website/img/logo.svg",order:8},{parent:"cluster.gatekeeper",name:"gatekeeper.constrainttemplates",title:"Constraint Templates",order:0,clusterModule:"gatekeeper"},{parent:"cluster.gatekeeper",name:"gatekeeper.constraints",title:"Constraints",order:1,clusterModule:"gatekeeper"}],routes:Le,locales:{zh:Ue,en:qe},isCheckLicense:!0}}(),d}())}}}));